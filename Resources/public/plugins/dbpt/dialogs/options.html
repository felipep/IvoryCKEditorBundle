<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
    <head>
        <meta name=vs_targetSchema content="http://schemas.microsoft.com/intellisense/ie5">
        <meta http-equiv="content-type" content="text/html; charset=iso-8859-1">
        <meta name="author" content="Macron Software (www.macronsoftware.com); petrj">
        <meta name="copyright" content="Copyright (C) 2011 - Bibliographisches Institut GmbH, Mannheim, Germany. All rights reserved.">
        <meta name="description" content="DBPT - options dialog">
        <title>Optionen</title>
        <script src="../js/jquery.min.js" type="text/javascript"></script> 
        <script src="../js/setup.js" type="text/javascript"></script>         
        <script src="../js/jquery.cookie.js" type="text/javascript"></script>        
        <link rel="stylesheet" type="text/css" href="../css/dbpt1_0.css">
        
        <script type="text/javascript">            
            var config = '';

            //kvuli FF - nastavim vysku iframu
            var CKEDITOR   = window.parent.CKEDITOR;
            var dialogElement = CKEDITOR.dialog.getCurrent().getElement().getFirst();
            dialogElement.setStyle("height", "400px");
            
            $(document).ready(function() {
                setupOptions();
            });

            function setupOptions()
            {
                config = cookie_setup(config);

                $("#lang").val(config['lang']);
                $("#level").val(config['level']);
                $("#stylew").val(config['stylew']);
                if (config['foreign_words'] > 0) $("#foreign_words").attr("checked", true);
                if (config['colloquial_words'] > 0) $("#colloquial_words").attr("checked", true);
                if (config['obsolete_words'] > 0) $("#obsolete_words").attr("checked", true);
                if (config['dialect'] > 0) $("#dialect").attr("checked", true);
                $("#sentlength").val(config['sentlength']);
                if (($("#lang").val() != "de") && ($("#lang").val() != "ch") && ($("#lang").val() != "at"))
                {
                    $("#level").val("spell");
                    setExtendedOptions(false);
                }
                levelChange();
            }

            function langChange() {
                switch ($("#lang").val()) {
                    case "de":
                    case "ch":
                    case "at":
                        setExtendedOptions(true);
                        break;
                    default:
                        setExtendedOptions(false);
                        break;
                }
                levelChange();
            }

            function levelChange() {               
                var flag;
                switch ($("#level").val()) {
                    case "spell":
                    case "spellgram":
                        flag = true;
                        break;
                    default:
                        flag = false;
                        break;
                }
                $("#foreign_words").attr("disabled", flag);
                $("#colloquial_words").attr("disabled", flag);
                $("#obsolete_words").attr("disabled", flag);
                $("#dialect").attr("disabled", flag);
                $("#sentlength").attr("disabled", flag);

                setStyleLabels(flag);
            }

            function saveOptions() {
                config = new Array();
                config["lang"] = $("#lang").val();
                config["level"] = $("#level").val();
                config["stylew"] =  $("#stylew").val();
                config["foreign_words"] = ($("#foreign_words:checked").val()) ? 1 : 0;
                config["colloquial_words"] = ($("#colloquial_words:checked").val()) ? 1 : 0;
                config["obsolete_words"] = ($("#obsolete_words:checked").val()) ? 1 : 0;
                config["dialect"] = ($("#dialect:checked").val()) ? 1 : 0;
                config["sentlength"] = $("#sentlength").val();

                if (cookie_save(config)) alert("Settings are saved!");
            }

            function saveAndCloseOptions() {
                saveOptions();
                
                CKEDITOR.dialog.getCurrent().fire("ok");
                CKEDITOR.dialog.getCurrent().hide();
            }

            function resetOptions() {
                config = new Array();
                config["lang"] = DBPT_LANG;
                config["level"] = DBPT_LEVEL;
                config["stylew"] = DBPT_STYLE;
                config["foreign_words"] = DBPT_FOREIGN_WORDS;
                config["colloquial_words"] = DBPT_COLLOQUIAL_WORDS;
                config["dialect"] = DBPT_DIALECT;
                config["obsolete_words"] = DBPT_OBSOLETE_WORDS;
                config["sentlength"] = DBPT_SENTLENGTH;
                config = cookie_save(config);
                setupOptions();
                alert("Default settings are saved!");
            }

            function setExtendedOptions(flag) {
                $("#level").attr("disabled", !flag);
                $("#stylew").attr("disabled", !flag);
                $("#foreign_words").attr("disabled", !flag);
                $("#colloquial_words").attr("disabled", !flag);
                $("#obsolete_words").attr("disabled", !flag);
                $("#dialect").attr("disabled", !flag);
                $("#sentlength").attr("disabled", !flag);
            
                setStyleLabels(flag);
            }
            function setStyleLabels(flag) {
                var aLabels = $('#styles label');
                var aColor;
                if (flag) {
                    aColor = "#999999";
                }
                else {
                    aColor = "#000000";
                }
                for (i = 0; i < aLabels.length; i++) {
                    aLabels[i].style.color = aColor;
                }
            }
        </script>
    </head>
    <body>
        <div align="center">
            <form name="options" action="">
                <table cellpadding="0" cellspacing="0" border="0" align="center" style="width:425px">
                    <tr><td>
                            <label class="dialog_label">Ländereinstellung:</label><br />
                            <select id="lang" onchange="langChange();" class="dialog_popup">
                                <option value="de">Deutsch (Deutschland)</option>
                                <option value="ch">Deutsch (Schweiz)</option>
                                <option value="at">Deutsch (Österreich)</option>
                                <option value="en">Englisch</option>
                                <option value="gb">Englisch (Großbritannien)</option>
                                <option value="us">Englisch (USA)</option>
                                <option value="fr">Französisch</option>
                                <option value="sp">Spanisch</option>
                                <option value="it">Italienisch</option>
                            </select>
                        </td></tr>
                    <tr style="height:10px"><td><span style="font-size:8px">&nbsp;</span></td></tr>
                    <tr><td>
                            <label class="dialog_label">Prüfmodus:</label><br />
                            <select id="level" onchange="levelChange();" class="dialog_popup">
                                <option value="spell">Rechtschreibprüfung</option>
                                <option value="spellgram">Rechtschreib- und Grammatikprüfung</option>
                                <option value="spellgramstyle">Rechtschreib-, Grammatik- und Stilprüfung</option>
                                <option value="style">Stilprüfung</option>
                            </select>
                        </td></tr>
                    <tr style="height:10px"><td><span style="font-size:8px">&nbsp;</span></td></tr>
                    <tr><td>
                            <label class="dialog_label">Prüfstil:</label><br />
                            <select id="stylew" class="dialog_popup">
                                <option value="duden">Dudenempfehlungen</option>
                                <option value="pro">progressiv</option>
                                <option value="con">konservativ</option>
                                <option value="ext">tolerant</option>
                                <option value="press">pressemodus</option>
                            </select>
                        </td></tr>
                    <tr style="height:10px"><td><span style="font-size:8px">&nbsp;</span></td></tr>
                    <tr><td id="styles">
                            <label class="dialog_label">Stilmarkierungen:</label><br />
                            <input type="checkbox" id="foreign_words" value="foreign_words" /><label class="dialog_label"> Fach- und Fremdwörter</label><br />
                            <input type="checkbox" id="colloquial_words" value="colloquial_words" /><label class="dialog_label"> Umgangssprache</label><br />
                            <input type="checkbox" id="obsolete_words" value="obsolete_words" /><label class="dialog_label"> Veraltete Begriffe</label><br />
                            <input type="checkbox" id="dialect" value="dialect" /><label class="dialog_label"> Dialekt</label>
                        </td></tr>
                    <tr style="height:10px"><td><span style="font-size:8px">&nbsp;</span></td></tr>
                    <tr><td>
                            <label class="dialog_label">Satzlänge:</label><br />
                            <select id="sentlength" class="dialog_popup">
                                <option value="0"> - </option>
                                <option value="5">5 Wörter</option>
                                <option value="10">10 Wörter</option>
                                <option value="15">15 Wörter</option>
                                <option value="20">20 Wörter</option>
                            </select>
                        </td></tr>
                    <tr style="height:30px"><td>
                            <div class="dialog_divider">&nbsp;</div>
                        </td></tr>
                    <tr><td align="center">
                            <input type="button" value="Save" class="Button" onclick="saveOptions();" />
                            <input type="button" value="Save and Close" class="Button" onclick="saveAndCloseOptions();" />
                            <input type="button" value="Set default" class="Button" onclick="resetOptions();" />
                        </td></tr>
                </table>
            </form>
        </div>
    </body>
</html>